name: "rlmpc_scenario_ms_channel"
save_scenario: False
t_start: 0.0
t_end: 350.0
dt_sim: 0.5
utm_zone: 33
map_size: [1400.0, 1500.0]
map_origin_enu: [-31924.0, 6573700.0]
map_data_files: ["Rogaland_utm33.gdb"]
map_tolerance: 0
map_buffer: 0
new_load_of_map_data: False
type: MS
n_random_ships_range: [4, 15]
episode_generation:
  n_episodes: 10
  n_constant_os_state_episodes: 1
  n_constant_os_plan_episodes: 20
  n_constant_do_state_episodes: 1
  n_plans_per_do_state: 1
  n_constant_disturbance_episodes: 5
  delta_uniform_position_sample: 5
  ownship_position_generation: "MapUniformThenPerpendicular"
  target_position_generation: "BasedOnOwnshipWaypointsThenGaussian"

rl:
  action_type: "relative_course_speed_reference_sequence_action"
  action_sample_time: 0.5
  observation_type:
    dict_observation:
      - "path_relative_navigation_observation"
      - "perception_image_observation"
      - "navigation_3dof_state_observation"
      - "ground_truth_tracking_observation"
      - "disturbance_observation"
stochasticity:
  currents:
    constant: False
    speed_range: [0.0, 2.0]
    direction_range: [-180.0, 180.0]
    mu_speed: 0.0001
    mu_direction: 0.0005
    sigma_speed: 0.005
    sigma_direction: 0.005
    add_impulse_noise: False
    speed_impulses: [5.0]
    direction_impulses: [45.0]
  wind:
    constant: False
    speed_range: [0.0, 7.0]
    direction_range: [-180, 180.0]
    mu_speed: 0.0001
    mu_direction: 0.0005
    sigma_speed: 0.005
    sigma_direction: 0.005
    add_impulse_noise: True
    speed_impulses: [1.0, 2.5, 5.0]
    direction_impulses: [-90.0, -45.0, 0.0, 45.0, 90.0, 120.0, 180.0]
    # impulse_times: [100.0]
ship_list:
  - id: 0
    mmsi: 100
    csog_state: [6574560.0, -31804.0, 4.0, 90.0]
    # waypoints: [[6574800.0, 6574730.0, 6574730.0, 6574560.0, 6574560.0], [-30584.0, -30904.0, -31104.0, -31404.0, -31804.0]]
    # speed_plan: [4.0, 4.0, 4.0, 4.0, 4.0]
    goal_csog_state: [6574800.0, -30584, 4.0, 0.0] #[6583580.0, -31824.0, 0.0, 0.0]
    tracker:
      kf:
        P_0: [49.1, 49.1, 0.11, 0.11]
        q: 0.4
      # god_tracker: ""
    sensors:
      - radar:
          max_range: 5000.0
          measurement_rate: 0.5
          R: [30.0, 30.0]
          R_true: [25.0, 25.0]
      - ais:
          max_range: 5000.0
          ais_class: A
          R: [26.3, 26.3, 0.1, 0.1]
          R_true: [26.3, 26.3, 0.1, 0.1]
    guidance:
      los:
        pass_angle_threshold: 80.0
        R_a: 80.0
        K_p: 0.02
        K_i: 0.0002
        max_cross_track_error_int: 1000.0
        cross_track_error_int_threshold: 30.0
    controller:
      flsc:
        K_p_u: 3.0
        K_i_u: 0.3
        K_p_chi: 2.5
        K_d_chi: 3.0
        K_i_chi: 0.1
        max_speed_error_int: 4.0
        speed_error_int_threshold: 0.5
        max_chi_error_int: 90.0
        chi_error_int_threshold: 20.0
    model:
      telemetron: ''
  - waypoints: [[6574800.0, 6574730.0, 6574690.0, 6574560.0, 6574560.0], [-30584.0, -30904.0, -31104.0, -31404.0, -31804.0]]
    speed_plan: [4.0, 4.0, 4.0, 4.0, 4.0]
    csog_state: [6574800.0, -30584.0, 4.0, -110.0]
    id: 1
    mmsi: 101
    tracker:
      kf:
        P_0: [49.1, 49.1, 0.11, 0.11]
        q: 0.15
    sensors:
      - radar:
          max_range: 5000.0
          measurement_rate: 0.5
          R: [25.0, 25.0]
          R_true: [25.0, 25.0]
      - ais:
          max_range: 5000.0
          ais_class: A
          R: [26.3, 26.3, 0.1, 0.1]
          R_true: [26.3, 26.3, 0.1, 0.1]
    guidance:
      los:
        pass_angle_threshold: 80.0
        R_a: 15.0
        K_p: 0.024
        K_i: 0.0
        max_cross_track_error_int: 101.0
        cross_track_error_int_threshold: 30.0
    controller:
      flsc:
        K_p_u: 3.0
        K_i_u: 0.3
        K_p_chi: 2.5
        K_d_chi: 3.0
        K_i_chi: 0.1
        max_speed_error_int: 4.0
        speed_error_int_threshold: 0.5
        max_chi_error_int: 90.0
        chi_error_int_threshold: 20.0
    model:
      telemetron: ''
  - waypoints: [[6574820.0, 6574750.0, 6574730.0, 6574560.0, 6574560.0], [-30584.0, -30904.0, -31104.0, -31404.0, -31804.0]]
    speed_plan: [3.0, 3.0, 3.0, 3.0, 3.0]
    csog_state: [6574820.0, -30584.0, 4.0, -110.0]
    id: 2
    mmsi: 102
    tracker:
      kf:
        P_0: [49.1, 49.1, 0.11, 0.11]
        q: 0.3
    sensors:
      - radar:
          max_range: 5000.0
          measurement_rate: 0.5
          R: [25.0, 25.0]
          R_true: [25.0, 25.0]
      - ais:
          max_range: 5000.0
          ais_class: A
          R: [26.3, 26.3, 0.1, 0.1]
          R_true: [26.3, 26.3, 0.1, 0.1]
    guidance:
      los:
        pass_angle_threshold: 80.0
        R_a: 15.0
        K_p: 0.024
        K_i: 0.0
        max_cross_track_error_int: 101.0
        cross_track_error_int_threshold: 30.0
    controller:
      flsc:
        K_p_u: 3.0
        K_i_u: 0.3
        K_p_chi: 2.5
        K_d_chi: 3.0
        K_i_chi: 0.1
        max_speed_error_int: 4.0
        speed_error_int_threshold: 0.5
        max_chi_error_int: 90.0
        chi_error_int_threshold: 20.0
    model:
      telemetron: ''
  - waypoints: [[6574680.0, 65746600.0, 6574560.0], [-31104.0, -31404.0, -31804.0]]
    speed_plan: [5.0, 5.0, 5.0]
    csog_state: [6574680.0, -31104.0, 4.0, -110.0]
    id: 3
    mmsi: 103
    tracker:
      kf:
        P_0: [49.1, 49.1, 0.11, 0.11]
        q: 0.3
    sensors:
      - radar:
          max_range: 5000.0
          measurement_rate: 0.5
          R: [25.0, 25.0]
          R_true: [25.0, 25.0]
      - ais:
          max_range: 5000.0
          ais_class: A
          R: [26.3, 26.3, 0.1, 0.1]
          R_true: [26.3, 26.3, 0.1, 0.1]
    guidance:
      los:
        pass_angle_threshold: 80.0
        R_a: 15.0
        K_p: 0.024
        K_i: 0.0
        max_cross_track_error_int: 101.0
        cross_track_error_int_threshold: 30.0
    controller:
      flsc:
        K_p_u: 3.0
        K_i_u: 0.3
        K_p_chi: 2.5
        K_d_chi: 3.0
        K_i_chi: 0.1
        max_speed_error_int: 4.0
        speed_error_int_threshold: 0.5
        max_chi_error_int: 90.0
        chi_error_int_threshold: 20.0
    model:
      telemetron: ''
  - csog_state: [6574850.0, -30584, 7.0, -110.0]
    waypoints: [[6574850.0, 6574720.0, 6574700.0], [-30584.0, -30904.0, -31294.0]]
    speed_plan: [7.0, 7.0, 7.0]
    id: 4
    mmsi: 104
    t_start: 210.0
    tracker:
      kf:
        P_0: [49.1, 49.1, 0.11, 0.11]
        q: 0.15
    sensors:
      - radar:
          max_range: 5000.0
          measurement_rate: 0.5
          R: [25.0, 25.0]
          R_true: [25.0, 25.0]
      - ais:
          max_range: 5000.0
          ais_class: A
          R: [26.3, 26.3, 0.1, 0.1]
          R_true: [26.3, 26.3, 0.1, 0.1]
    guidance:
      los:
        pass_angle_threshold: 80.0
        R_a: 15.0
        K_p: 0.024
        K_i: 0.0
        max_cross_track_error_int: 101.0
        cross_track_error_int_threshold: 30.0
    controller:
      flsc:
        K_p_u: 3.0
        K_i_u: 0.3
        K_p_chi: 2.5
        K_d_chi: 3.0
        K_i_chi: 0.1
        max_speed_error_int: 4.0
        speed_error_int_threshold: 0.5
        max_chi_error_int: 90.0
        chi_error_int_threshold: 20.0
    model:
      telemetron: ''
